<html>
<head>
  <title>visual effect</title>
  <style type="text/css">h1{  position: absolute; padding-left: 50px} body{ margin: 0;}</style>
  <!-- <script src="./../lib/S3.js"></script> -->
</head>
<body>
  <h1>s3.js visual effect</h1>
  <canvas></canvas>
</body>
  <script type="text/javascript" src="./../component/init.js"></script>
  <script type="text/javascript" src="./../component/s3WebView.js"></script>
  <script type="text/javascript" src="./../component/pluginEntry.js"></script>
  <script type="text/javascript" src="./../component/activity.js"></script>
  <script type="text/javascript" src="./../component/loadConfig.js"></script>
  <script type="text/javascript" src="./../component/excutePool.js"></script>
  <script type="text/javascript" src="./../component/systemWebView.js"></script>
  <script type="text/javascript" src="./../component/drawQueue.js"></script>
  <script type="text/javascript" src="./../component/pluginManage.js"></script>
<script type="text/javascript">
const ES = EFFECTS()();

const Body = s3.body(s3.dom("canvas"));
Body.set({ width: document.body.offsetWidth, height: document.body.offsetHeight });
Body.component('circle', { type:'Array', property: ES });

function EFFECTS () {
  var w = document.body.offsetWidth, h = document.body.offsetHeight;
  var results = new Array();
  var radius = 5;
  var perha = Math.PI * Math.sqrt(2);
  return function () {
    for (var i = 0; i < 600; i++) {
      var r = radius * Math.sqrt(i * 5), a = perha * i;
      obj = { color: '#AB5EEE', x: w/2 + r * Math.sin(a), y: h/2 + r * Math.cos(a), radius: radius };
      results.push(obj);
    }
    return results
  }
}
</script>
</html>